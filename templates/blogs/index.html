<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Топики</title>
  </head>
  <body>
    <!-- {% if messages %}
<ul class="messages">
    {% for message in messages %}
    <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
    {% endfor %}
</ul>
{% endif %} -->
    <div>
      <a href="/registration">регистрация</a>
      <a href="/login">вход</a>
    </div>
    <main>

      {% for topic in page_obj %}
      <div width=80%>
        <div>
          {% autoescape on %}
          <h1><a href="#">{{ topic.title }}</a></h1>
          {{ topic.topic_texts.text_short | safe }}
          <p> {{ topic.author }} {{ topic.rating }} </p>
          {% endautoescape %}
        </div>
      </div>
      {% endfor %}
    </main>
    <div class="pagination">
    <span class="step-links">
        {% if page_obj.has_previous %}
            <a href="?page=1">&laquo; first</a>
            <a href="?page={{ page_obj.previous_page_number }}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
        </span>

        {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}">next</a>
            <a href="?page={{ page_obj.paginator.num_pages }}">last &raquo;</a>
        {% endif %}
    </span>
</div>
  </body>
</html>
